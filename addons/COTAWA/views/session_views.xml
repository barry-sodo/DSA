<?xml version="1.0" encoding="UTF-8"?>
<odoo>
<record id="view_session_form" model="ir.ui.view">
    <field name="name">session.session.form</field>
    <field name="model">session.session</field>
    <field name="arch" type="xml">
        <form string="Session" class="form-background-blue">
       <header class="custom-header-bg">
    <field name="etat" widget="statusbar" statusbar_visible="active,inactive"/>
    <button name="action_activer"
            type="object"
            string="Activer"
            class="oe_highlight"
            invisible="etat == 'active'"/>
    <button name="action_desactiver"
            type="object"
            string="Désactiver"
         class="btn-danger"
            invisible="etat == 'inactive'"/>
</header>
            <sheet class="sheet-rounded-blue">
                <group>
                    <group>
                        <field name="name"/>
                    </group>
                    <group>
                        <field name="date_debut"/>
                        <field name="date_fin"/>
                    </group>
                </group>
            </sheet>
        </form>
    </field>
</record>
<record id="view_session_tree" model="ir.ui.view">
  <field name="name">session.session.list</field>
  <field name="model">session.session</field>
  <field name="arch" type="xml">
    <list string="Sessions">
      <field name="name"/>
    <field name="etat"
         widget="badge"
         decoration-primary="etat == 'active'"
         decoration-muted="etat == 'inactive'"/>
    </list>
  </field>
</record>
<record id="view_session_kanban" model="ir.ui.view">
  <field name="name">session.session.kanban</field>
  <field name="model">session.session</field>
  <field name="arch" type="xml">
    <kanban>
      <field name="name"/>
      <field name="etat"/>
         <templates>
  <t t-name="kanban-box">
    <div class="oe_kanban_global_click o_kanban_record custom-kanban-box">
      <div class="kanban-title">
        <t t-esc="record.name.raw_value"/>
      </div>
      <div class="kanban-badge">
        <t t-if="record.etat.raw_value == 'active'">
          <span class="badge badge-active">Active</span>
        </t>
        <t t-if="record.etat.raw_value == 'inactive'">
          <span class="badge badge-inactive">Inactive</span>
        </t>
      </div>

    </div>
  </t>
</templates>
    </kanban>
  </field>
</record>
    <record id="action_session" model="ir.actions.act_window">
        <field name="name">Sessions</field>
        <field name="res_model">session.session</field>
        <field name="view_mode">list,kanban,form</field>
    </record>
    <menuitem id="menu_session_root" name="Sessions"/>
    <menuitem id="menu_session" name="Gérer les sessions" parent="menu_session_root" action="action_session"/>
</odoo>

